{"version":3,"file":"AuthorizCore.js","sourceRoot":"","sources":["../../src/authoriz/AuthorizCore.ts"],"names":[],"mappings":"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"}